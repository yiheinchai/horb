(this.webpackJsonphorb=this.webpackJsonphorb||[]).push([[0],[,,,,,function(e,t,n){e.exports={log__item:"LogItem_log__item__3RigK",log__group:"LogItem_log__group__EIzKN"}},function(e,t,n){e.exports={selector:"Selector_selector__1DzJc",label:"Selector_label__3i1aH",select:"Selector_select__2gGIx",option:"Selector_option__20xm_"}},,,function(e,t,n){e.exports={button:"Button_button__Y4qXg",normal:"Button_normal__2uNfE",large:"Button_large__JIceD",center:"Button_center__3Te5n",btn__wrapper:"Button_btn__wrapper__27og3"}},function(e,t,n){e.exports={graph:"Graph_graph__39ji5",yLabel:"Graph_yLabel__16jtv",xAxis:"Graph_xAxis__2RDCV",yAxis:"Graph_yAxis__oBcMq"}},,function(e,t,n){e.exports={form:"Form_form__30pMC",form__wrapper:"Form_form__wrapper__31l_c",time:"Form_time__2Tpvm",submit:"Form_submit__nz4UN"}},,function(e,t,n){e.exports={input:"Input_input__2dYUo",normal:"Input_normal__3tBKo",small:"Input_small__54SjT"}},function(e,t,n){e.exports={small:"GraphWrapper_small__2gcHL",medium:"GraphWrapper_medium__3PEcW",large:"GraphWrapper_large__2oyc8",flex:"GraphWrapper_flex__2Zx0V"}},,,function(e,t,n){e.exports={header:"Header_header__1vGdd"}},function(e,t,n){e.exports={list:"LogList_list__1Jifz"}},,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(17),c=n.n(a),o=n(18),i=n.n(o),s=n(0),u=function(){return Object(s.jsx)("div",{className:i.a.header,children:Object(s.jsx)("h2",{children:"HillView or Beauty World"})})},l=(n(25),n(2)),d=n(4),j=n.n(d),m=n(8),b=n(3),p=n(14),h=n.n(p),_=function(e){return Object(s.jsx)("input",Object(b.a)({onChange:function(t){e.onInputChange(t.target.value)},className:"".concat(h.a.input," ").concat(h.a[e.size])},e))},x=n(6),f=n.n(x),O=function(e){var t=e.options.map((function(e){return Object(s.jsx)("option",{className:f.a.option,value:e,children:e})}));return Object(s.jsxs)("div",{className:f.a.selector,children:[Object(s.jsx)("label",{className:f.a.label,htmlFor:e.id,children:Object(s.jsx)("h3",{children:e.label})}),Object(s.jsxs)("select",{onChange:function(t){e.onSelectorHandler(t.target.value)},className:f.a.select,name:e.name,id:e.id,children:[Object(s.jsx)("option",{className:f.a.option,value:"",children:"Choose an option"}),t]})]})},g=n(12),v=n.n(g),y=Object(r.createContext)({sendRouteData:function(){return console.log("Hi")}}),w=n(9),N=n.n(w),S=function(e){return Object(s.jsx)("div",{className:"".concat(N.a.btn__wrapper," ").concat(N.a[e.align]),children:Object(s.jsx)("button",Object(b.a)(Object(b.a)({onClick:function(){e.onClickHandler&&e.onClickHandler()}},e),{},{className:"".concat(N.a.button," ").concat(N.a[e.size]),children:e.children}))})},C=function(e){var t=Object(r.useContext)(y),n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(""),u=Object(l.a)(i,2),d=u[0],b=u[1],p=Object(r.useState)(null),h=Object(l.a)(p,2),x=h[0],f=h[1],g=Object(r.useState)(null),w=Object(l.a)(g,2),N=w[0],C=w[1];function H(){return(H=Object(m.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,t.sendRouteData({name:c,route:d,duration:"".concat(x,":").concat(N),time:Date.now()});case 3:return n.next=5,t.getRouteList();case 5:e.submitHandler(!1);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return console.log(c,d,x,N),Object(s.jsx)("div",{className:v.a.form__wrapper,children:Object(s.jsxs)("form",{onSubmit:function(e){return H.apply(this,arguments)},className:v.a.form,children:[Object(s.jsx)(O,{onSelectorHandler:o,name:"name",id:"name-input",label:"Name",options:["Yi Hein","Yi Xuen","Yi Kang"]}),Object(s.jsx)(O,{onSelectorHandler:b,name:"Route",id:"route-input",label:"Route",options:["HillView","Beauty World"]}),Object(s.jsxs)("div",{className:v.a.time,children:[Object(s.jsx)("label",{htmlFor:"min",children:Object(s.jsx)("h3",{children:"Time"})}),Object(s.jsx)(_,{onInputChange:f,type:"number",id:"min",placeholder:"min",size:"small"}),Object(s.jsx)(_,{onInputChange:C,type:"number",id:"sec",placeholder:"sec",size:"small"})]}),Object(s.jsx)(S,{size:"normal",type:"submit",children:"Submit"})]})})},H=n(5),D=n.n(H),L=function(e){return Object(s.jsxs)("li",{className:D.a.log__item,children:[Object(s.jsxs)("div",{className:D.a.log__group,children:[Object(s.jsx)("h4",{children:"Name"}),Object(s.jsx)("p",{children:e.name})]}),Object(s.jsxs)("div",{className:D.a.log__group,children:[Object(s.jsx)("h4",{children:"Route"}),Object(s.jsx)("p",{children:e.route})]}),Object(s.jsxs)("div",{className:D.a.log__group,children:[Object(s.jsx)("h4",{children:"Duration"}),Object(s.jsx)("p",{children:e.duration})]}),Object(s.jsxs)("div",{className:D.a.log__group,children:[Object(s.jsx)("h4",{children:"Time"}),Object(s.jsx)("p",{children:e.time})]}),Object(s.jsxs)("div",{className:D.a.log__group,children:[Object(s.jsx)("h4",{children:"Date"}),Object(s.jsx)("p",{children:e.date})]})]})},R=n(19),z=n.n(R),I=function(){var e,t=Object(r.useContext)(y);if(Object(r.useEffect)((function(){t.getRouteList()}),[]),t.routeList){var n=[];for(var a in t.routeList)n.push(t.routeList[a]);e=n.map((function(e){var t=new Date(e.time);return Object(s.jsx)(L,{name:e.name,route:e.route,duration:e.duration,time:"".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")),date:"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())})}))}return Object(s.jsx)("ul",{className:z.a.list,children:e})},k=n(10),A=n.n(k),B=n(16);var G=n(15),T=n.n(G),F=function(e){return Object(s.jsx)("div",{className:"".concat(T.a.wrapper," ").concat(T.a[e.size]),children:e.children})},M=[{time:16204e8,route:"hillview",duration:12},{time:1620500000020,route:"beauty world",duration:10},{time:16206e8,route:"hillview",duration:9},{time:16206e8,route:"beauty world",duration:16},{time:16207e8,route:"beauty world",duration:8},{time:16208e8,route:"hillview",duration:11},{time:16209e8,route:"hillview",duration:10},{time:16209e8,route:"beauty world",duration:15},{time:1621e9,route:"beauty world",duration:12},{time:16211e8,route:"hillview",duration:15},{time:16212e8,route:"beauty world",duration:14},{time:16213e8,route:"hillview",duration:13},{time:16214e8,route:"beauty world",duration:15},{time:16215e8,route:"beauty world",duration:17}],W=function(e){var t,n,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",t=arguments.length>1?arguments[1]:void 0;if(e)return"day"===e?t.map((function(e){var t=new Date(e.time).getDate();return Object(b.a)(Object(b.a)({},e),{},{time:t})})):"time"===e?t.map((function(e){var t=new Date(e.time).getHours();return Object(b.a)(Object(b.a)({},e),{},{time:t})})):void 0}("day",M),a=(t=r,"ascending"===(n="ascending")?t.sort((function(e,t){return e.time-t.time})):"descending"===n?t.sort((function(e,t){return t.time-e.time})):void 0);console.log(a);var c,o=function(e){return Math.max.apply(Math,Object(B.a)(e.map((function(e){return e.duration}))))}(M),i=function(e,t){return Array.from({length:e+1},(function(n,r){return Object(s.jsx)("div",{className:t,style:{gridRow:"".concat(e+1-r),gridColumn:2},children:r})}))}(o,A.a.yAxis),u=function(e){return e.map((function(e){return e.time}))}(a),l=(c=u,Object(B.a)(new Set(c))),d=l.length,j=function(e,t,n){return e.map((function(e,r){return Object(s.jsx)("div",{className:n,style:{gridRow:t+1,gridColumn:r+3},children:e})}))}(l,o,A.a.xAxis),m=function(e,t,n){return Object(s.jsx)("div",{style:{gridArea:"".concat(e+2," / 2 / ").concat(e+3," / ").concat(t+3)},children:Object(s.jsx)("h6",{children:n})})}(o,d,"May (Day)"),p=function(e,t,n){return Object(s.jsx)("div",{className:e,style:{gridArea:"1/1/".concat(t+3," / 2")},children:Object(s.jsx)("h6",{children:n})})}(A.a.yLabel,o,"Minutes taken to reach home (from Beauty World)"),h=function(e,t,n,r,a){return e.map((function(e,c){var o=n.findIndex((function(t){return t==e.time}))+3,i=t-e.duration+1;return Object(s.jsx)("div",{style:{gridArea:"".concat(i,"/").concat(o,"/").concat(i+1,"/").concat(o+1)},children:"hillview"===e.route?r:a})}))}(a,o,l,"\ud83d\ude86","\ud83d\ude8d");return Object(s.jsx)(F,{size:"large",children:Object(s.jsxs)("div",{style:{gridTemplateRows:"repeat(".concat(o+2,", 1fr)"),gridTemplateColumns:" 1px repeat(".concat(l.length+1,", 1fr)")},className:A.a.graph,children:[h,i,j,m,p]})})},J=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1];Object(r.useContext)(y);return Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)(C,{submitHandler:a}),!n&&Object(s.jsx)(S,{size:"large",align:"center",onClickHandler:function(){a(!0)},children:"New Entry"}),i&&Object(s.jsx)(I,{}),!i&&Object(s.jsx)(S,{size:"large",align:"center",onClickHandler:function(){u(!0)},children:"Show Logs"}),Object(s.jsx)(W,{})]})},Y=function(e){var t=Object(r.useState)({}),n=Object(l.a)(t,2),a=n[0],c=n[1];function o(){return(o=Object(m.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://horb-32823-default-rtdb.asia-southeast1.firebasedatabase.app/route.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(m.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://horb-32823-default-rtdb.asia-southeast1.firebasedatabase.app/route.json");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,console.log(r),e.next=9,c(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.jsx)(y.Provider,{value:{sendRouteData:function(e){return o.apply(this,arguments)},getRouteList:function(e){return i.apply(this,arguments)},routeList:a},children:e.children})},E=function(){return Object(s.jsxs)(Y,{children:[Object(s.jsx)(u,{}),Object(s.jsx)(J,{})]})};c.a.render(Object(s.jsx)(E,{}),document.querySelector("#root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.dfa08177.chunk.js.map