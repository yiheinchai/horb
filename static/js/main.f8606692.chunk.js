(this.webpackJsonphorb=this.webpackJsonphorb||[]).push([[0],[,,,,,function(e,t,n){e.exports={selector:"Selector_selector__1DzJc","space-between":"Selector_space-between__h1a7m",label:"Selector_label__3i1aH",select:"Selector_select__2gGIx"}},function(e,t,n){e.exports={button:"Button_button__Y4qXg",blue:"Button_blue__3F8kW",gray:"Button_gray__PZ_fA",outline:"Button_outline__2L_6K",normal:"Button_normal__2uNfE",large:"Button_large__JIceD",center:"Button_center__3Te5n",btn__wrapper:"Button_btn__wrapper__27og3",modal:"Button_modal__BlXHY"}},function(e,t,n){e.exports={log__item:"LogItem_log__item__3RigK",log__group:"LogItem_log__group__EIzKN"}},,,function(e,t,n){e.exports={graph:"Graph_graph__39ji5",yLabel:"Graph_yLabel__16jtv",xAxis:"Graph_xAxis__2RDCV",yAxis:"Graph_yAxis__oBcMq"}},,,function(e,t,n){e.exports={form:"Form_form__30pMC",form__wrapper:"Form_form__wrapper__31l_c",time:"Form_time__2Tpvm"}},function(e,t,n){e.exports={filter:"FilterBtn_filter__39wFK",filter__title:"FilterBtn_filter__title__2D1LZ",filterSVG:"FilterBtn_filterSVG__zQ0QC"}},,function(e,t,n){e.exports={input:"Input_input__2dYUo",normal:"Input_normal__3tBKo",small:"Input_small__54SjT"}},function(e,t,n){e.exports={filter__modal:"FilterModal_filter__modal__1WQbb",controls:"FilterModal_controls__1Zd7E"}},function(e,t,n){e.exports={small:"GraphWrapper_small__2gcHL",medium:"GraphWrapper_medium__3PEcW",large:"GraphWrapper_large__2oyc8",flex:"GraphWrapper_flex__2Zx0V",wrapper:"GraphWrapper_wrapper__3zj8h"}},,function(e,t,n){e.exports={header:"Header_header__1vGdd"}},function(e,t,n){e.exports={list:"LogList_list__1Jifz"}},function(e,t,n){e.exports={section:"Section_section__d_GYg"}},function(e,t,n){e.exports={sectionhdr:"SectionHdr_sectionhdr__3jmcf"}},function(e,t,n){e.exports={modal:"Modal_modal__3ZvWa"}},,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(11),c=n.n(r),o=n(20),i=n.n(o),s=n(0),l=function(){return Object(s.jsx)("div",{className:i.a.header,children:Object(s.jsx)("h2",{children:"HillView or Beauty World"})})},u=(n(30),n(3)),j=n(4),d=n.n(j),b=n(9),p=n(2),_=n(16),h=n.n(_),m=function(e){return Object(s.jsx)("input",Object(p.a)({onChange:function(t){e.onInputChange(t.target.value.toString().padStart(2,"0"))},className:"".concat(h.a.input," ").concat(h.a[e.size])},e))},x=n(5),f=n.n(x),O=function(e){var t=e.options.map((function(e){return Object(s.jsx)("option",{className:f.a.option,value:e,children:e})}));return Object(s.jsxs)("div",{className:"".concat(f.a.selector," ").concat(f.a[e.justify]),children:[Object(s.jsx)("label",{className:f.a.label,htmlFor:e.id,children:Object(s.jsx)("h4",{children:e.label})}),Object(s.jsxs)("select",{onChange:function(t){e.onSelectorHandler(t.target.value)},value:e.value,className:f.a.select,name:e.name,id:e.id,children:[Object(s.jsx)("option",{className:f.a.option,value:"",children:"Choose an option"}),t]})]})},g=n(13),v=n.n(g),y=Object(a.createContext)({sendRouteData:function(){return console.log("Hi")}}),C=n(6),N=n.n(C),H=function(e){return Object(s.jsx)("div",{className:"".concat(N.a.btn__wrapper," ").concat(N.a[e.align]," "),children:Object(s.jsx)("button",Object(p.a)(Object(p.a)({onClick:function(){e.onClickHandler&&(console.log("Button Clicked!"),e.onClickHandler())}},e),{},{className:"".concat(N.a.button," ").concat(N.a[e.size]," ").concat(N.a[e.variation]," ").concat(N.a[e.color]," ").concat(e.className),children:e.children}))})},S=function(e){var t=Object(a.useContext)(y),n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(""),l=Object(u.a)(i,2),j=l[0],p=l[1],_=Object(a.useState)(null),h=Object(u.a)(_,2),x=h[0],f=h[1],g=Object(a.useState)(null),C=Object(u.a)(g,2),N=C[0],S=C[1];function w(){return(w=Object(b.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,t.sendRouteData({name:c,route:j,duration:"".concat(x,":").concat(N),time:Date.now()});case 3:return n.next=5,t.getRouteList();case 5:e.submitHandler(!1);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return console.log(c,j,x,N),Object(s.jsx)("div",{className:v.a.form__wrapper,children:Object(s.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},className:v.a.form,children:[Object(s.jsx)(O,{onSelectorHandler:o,name:"name",id:"name-input",label:"Name",options:["Yi Hein","Yi Xuen","Yi Kang"]}),Object(s.jsx)(O,{onSelectorHandler:p,name:"Route",id:"route-input",label:"Route",options:["HillView","Beauty World"]}),Object(s.jsxs)("div",{className:v.a.time,children:[Object(s.jsx)("label",{htmlFor:"min",children:Object(s.jsx)("h4",{children:"Time"})}),Object(s.jsx)(m,{onInputChange:f,pattern:"\\d*",type:"number",id:"min",placeholder:"min",size:"small"}),Object(s.jsx)(m,{onInputChange:S,type:"number",pattern:"\\d*",id:"sec",placeholder:"sec",size:"small"})]}),Object(s.jsx)(H,{size:"normal",type:"submit",children:"Submit"})]})})},w=n(7),k=n.n(w),A=function(e){return Object(s.jsxs)("li",{className:k.a.log__item,children:[Object(s.jsxs)("div",{className:k.a.log__group,children:[Object(s.jsx)("h4",{children:"Name"}),Object(s.jsx)("p",{children:e.name})]}),Object(s.jsxs)("div",{className:k.a.log__group,children:[Object(s.jsx)("h4",{children:"Route"}),Object(s.jsx)("p",{children:e.route})]}),Object(s.jsxs)("div",{className:k.a.log__group,children:[Object(s.jsx)("h4",{children:"Duration"}),Object(s.jsx)("p",{children:e.duration})]}),Object(s.jsxs)("div",{className:k.a.log__group,children:[Object(s.jsx)("h4",{children:"Time"}),Object(s.jsx)("p",{children:e.time})]}),Object(s.jsxs)("div",{className:k.a.log__group,children:[Object(s.jsx)("h4",{children:"Date"}),Object(s.jsx)("p",{children:e.date})]})]})},B=n(21),M=n.n(B),D=function(){var e=Object(a.useContext)(y).routeList.map((function(e){var t=new Date(e.time);return Object(s.jsx)(A,{name:e.name,route:e.route,duration:e.duration,time:"".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")),date:"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())})}));return Object(s.jsx)("ul",{className:M.a.list,children:e})},L=n(14),R=n.n(L),G=function(e){return Object(s.jsxs)(H,{onClickHandler:e.onFilterClick,className:R.a.filter,children:[Object(s.jsx)("div",{className:R.a.filter__title,children:"Filter"}),Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:R.a.filterSVG,children:Object(s.jsx)("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"})})]})},F=n(22),E=n.n(F),z=function(e){return Object(s.jsx)("div",{className:E.a.section,children:e.children})},I=n(23),X=n.n(I),T=function(e){return Object(s.jsx)("h2",{className:X.a.sectionhdr,children:e.children})},W=n(24),K=n.n(W),Y=function(e){return Object(s.jsx)("div",{className:"".concat(K.a.modal," ").concat(e.className),children:e.children})},V=n(17),J=n.n(V),P=Object(a.createContext)({xAxis:"day",sort:"ascending",markerH:"\ud83d\ude86",markerB:"\ud83d\ude8d"}),Z=function(e){var t=Object(a.useContext)(P);return Object(s.jsxs)(Y,{className:J.a.filter__modal,children:[Object(s.jsx)(T,{children:"Filter"}),Object(s.jsx)(O,{onSelectorHandler:t.onXChange,justify:"space-between",value:t.graphData.xAxis,id:"X-Axis",label:"X-Axis",name:"X-Axis",options:["day","time"]}),Object(s.jsx)(O,{onSelectorHandler:t.onSortChange,justify:"space-between",value:t.graphData.sort,id:"sort",label:"Sort",name:"sort",options:["ascending","descending"]}),Object(s.jsx)(O,{onSelectorHandler:t.onMarkerHChange,justify:"space-between",value:t.graphData.markerH,id:"Marker (H)",label:"Marker (H)",name:"Marker (H)",options:["\ud83d\ude84","\ud83d\ude86","\ud83d\ude85","\ud83d\ude82","\ud83d\ude83","\ud83d\ude89","\ud83d\udee4","\ud83d\udc5f"]}),Object(s.jsx)(O,{onSelectorHandler:t.onMarkerBChange,justify:"space-between",value:t.graphData.markerB,id:"Marker (B)",label:"Marker (B)",name:"Marker (B)",options:["\ud83d\ude8c","\ud83d\ude90","\ud83d\ude8e","\ud83d\ude8d"]}),Object(s.jsx)("div",{className:J.a.controls,children:Object(s.jsx)(H,{onClickHandler:e.onFilterClick,size:"normal",color:"gray",children:"Close"})})]})},q=n(10),Q=n.n(q),U=n(19);function $(e,t){return Math.floor(Math.random()*(t-e)+e)}var ee=n(18),te=n.n(ee),ne=function(e){return Object(s.jsx)("div",{className:"".concat(te.a.wrapper," ").concat(te.a[e.size]),children:e.children})},ae=function(e){var t,n,r,o=Object(a.useContext)(P),i=Object(a.useState)(!1),l=Object(u.a)(i,2),j=l[0],d=l[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",t=arguments.length>1?arguments[1]:void 0;if(e)return"day"===e?t.map((function(e){var t=new Date(e.time).getDate();return Object(p.a)(Object(p.a)({},e),{},{time:t,duration:+e.duration.slice(0,2)})})):"time"===e?t.map((function(e){var t=new Date(e.time).getHours();return Object(p.a)(Object(p.a)({},e),{},{time:t,duration:+e.duration.slice(0,2)})})):void 0}(o.graphData.xAxis,e.data),_=(t=b,"ascending"===(n=o.graphData.sort)?t.sort((function(e,t){return e.time-t.time})):"descending"===n?t.sort((function(e,t){return t.time-e.time})):void 0),h=function(e){return Math.max.apply(Math,Object(U.a)(e.map((function(e){return+e.duration}))))}(_),m=function(e,t){return Array.from({length:e+1},(function(n,a){return Object(s.jsx)("div",{className:t,style:{gridRow:"".concat(e+1-a),gridColumn:2},children:a})}))}(h,Q.a.yAxis),x=function(e){return e.map((function(e){return e.time}))}(_),f=(r=x,Object(U.a)(new Set(r))),O=f.length,g=function(e,t,n){return e.map((function(e,a){return Object(s.jsx)("div",{className:n,style:{gridRow:t+1,gridColumn:a+3},children:e},$(1e4,99999))}))}(f,h,Q.a.xAxis),v=function(e,t,n){return Object(s.jsx)("div",{style:{gridArea:"".concat(e+2," / 2 / ").concat(e+3," / ").concat(t+3)},children:Object(s.jsx)("h6",{children:n})},$(1e4,99999))}(h,O,e.xLabel),y=function(e,t,n){return Object(s.jsx)("div",{className:e,style:{gridArea:"1/1/".concat(t+3," / 2")},children:Object(s.jsx)("h6",{children:n})},$(1e4,99999))}(Q.a.yLabel,h,e.yLabel),C=function(e,t,n,a,r){return e.map((function(e,c){var o=n.findIndex((function(t){return t==e.time}))+3,i=t-e.duration+1;return isNaN(+i)&&console.log("I failed: index - ".concat(c)),Object(s.jsx)("div",{style:{gridArea:"".concat(i,"/").concat(o,"/").concat(i+1,"/").concat(o+1)},children:"hillview"===e.route?a:r},$(1e4,99999))}))}(_,h,f,o.graphData.markerH,o.graphData.markerB);function N(){d((function(e){return!e}))}return Object(s.jsxs)(ne,{size:"flex",children:[Object(s.jsxs)(z,{children:[Object(s.jsx)(T,{children:"Graph"}),Object(s.jsx)(G,{onFilterClick:N}),j&&c.a.createPortal(Object(s.jsx)(Z,{onFilterClick:N}),document.querySelector("#modal-content"))]}),Object(s.jsxs)("div",{style:{gridTemplateRows:"repeat(".concat(h+2,", 1fr)"),gridTemplateColumns:" 10px repeat(".concat(f.length+1,", 1fr)")},className:Q.a.graph,children:[C,m,g,v,y]})]})},re=function(e,t){return"XAXIS_CHANGE"===t.type?Object(p.a)(Object(p.a)({},e),{},{xAxis:t.value}):"SORT_CHANGE"===t.type?Object(p.a)(Object(p.a)({},e),{},{sort:t.value}):"MARKERH_CHANGE"===t.type?Object(p.a)(Object(p.a)({},e),{},{markerH:t.value}):"MARKERB_CHANGE"===t.type?Object(p.a)(Object(p.a)({},e),{},{markerB:t.value}):void 0},ce=function(e){var t=Object(a.useReducer)(re,{xAxis:"day",sort:"ascending",markerH:"\ud83d\ude86",markerB:"\ud83d\ude8d"}),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(s.jsx)(P.Provider,{value:{onXChange:function(e){c({type:"XAXIS_CHANGE",value:e})},onSortChange:function(e){c({type:"SORT_CHANGE",value:e})},onMarkerHChange:function(e){c({type:"MARKERH_CHANGE",value:e})},onMarkerBChange:function(e){c({type:"MARKERB_CHANGE",value:e})},graphData:r},children:e.children})},oe=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(u.a)(c,2),i=o[0],l=o[1],j=Object(a.useContext)(y);return Object(a.useEffect)((function(){j.getRouteList(),console.log("Data fetched!")}),[]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)(S,{submitHandler:r}),!n&&Object(s.jsx)(H,{size:"normal",color:"blue",align:"center",onClickHandler:function(){r(!0)},children:"New Entry"}),i&&j.routeList&&Object(s.jsx)(D,{}),!i&&Object(s.jsx)(H,{size:"normal",color:"blue",align:"center",onClickHandler:function(){l(!0)},children:"Show Logs"}),j.routeList&&Object(s.jsx)(ce,{children:Object(s.jsx)(ae,{data:j.routeList,yLabel:"Minutes taken",xLabel:"May - Days"})})]})},ie=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1];function o(){return(o=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://horb-32823-default-rtdb.asia-southeast1.firebasedatabase.app/route.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://horb-32823-default-rtdb.asia-southeast1.firebasedatabase.app/route.json");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,console.log(a),e.next=9,c(Object.values(a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.jsx)(y.Provider,{value:{sendRouteData:function(e){return o.apply(this,arguments)},getRouteList:function(e){return i.apply(this,arguments)},routeList:r},children:e.children})},se=function(){return Object(s.jsxs)(ie,{children:[Object(s.jsx)(l,{}),Object(s.jsx)(oe,{})]})};c.a.render(Object(s.jsx)(se,{}),document.querySelector("#root"))}],[[32,1,2]]]);
//# sourceMappingURL=main.f8606692.chunk.js.map